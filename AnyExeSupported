-- Made By Forcass
-- Remade GUI (same size & position as original) with fixed right-side notifiers and smooth in/out
-- Place this as a LocalScript under StarterPlayerScripts or run client-side

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- UI construction
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "Forcass_GUI"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = PlayerGui
ScreenGui.IgnoreGuiInset = true

local Frame = Instance.new("Frame")
Frame.Name = "MainFrame"
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(18,18,18)
Frame.BackgroundTransparency = 0.08
Frame.BorderSizePixel = 0
Frame.Position = UDim2.new(0.01, 0, 0.16, 0) -- SAME POSITION
Frame.Size = UDim2.new(0, 245, 0, 209) -- SAME SIZE
Frame.AnchorPoint = Vector2.new(0,0)

local FrameCorner = Instance.new("UICorner")
FrameCorner.CornerRadius = UDim.new(0, 8)
FrameCorner.Parent = Frame

-- Header
local Header = Instance.new("Frame")
Header.Name = "Header"
Header.Parent = Frame
Header.Size = UDim2.new(1, 0, 0, 48)
Header.BackgroundTransparency = 1

local Title = Instance.new("TextLabel")
Title.Name = "Title"
Title.Parent = Header
Title.Size = UDim2.new(1, -24, 1, -10)
Title.Position = UDim2.new(0, 12, 0, 6)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.GothamBold
Title.Text = "YBA FARM" -- renamed as requested
Title.TextColor3 = Color3.fromRGB(230, 200, 255)
Title.TextScaled = true
Title.TextXAlignment = Enum.TextXAlignment.Left

local Subline = Instance.new("Frame")
Subline.Name = "Subline"
Subline.Parent = Header
Subline.Size = UDim2.new(0.9, 0, 0, 2)
Subline.Position = UDim2.new(0, 12, 0, 44)
Subline.BackgroundColor3 = Color3.fromRGB(110, 40, 135)
Subline.BackgroundTransparency = 0

local SublineCorner = Instance.new("UICorner")
SublineCorner.CornerRadius = UDim.new(0, 4)
SublineCorner.Parent = Subline

-- Buttons container
local ButtonsHolder = Instance.new("Frame")
ButtonsHolder.Name = "ButtonsHolder"
ButtonsHolder.Parent = Frame
ButtonsHolder.Position = UDim2.new(0, 0, 0, 56)
ButtonsHolder.Size = UDim2.new(1, 0, 1, -98)
ButtonsHolder.BackgroundTransparency = 1

local function makeButton(name, text, posY)
    local btn = Instance.new("TextButton")
    btn.Name = name
    btn.Parent = ButtonsHolder
    btn.BackgroundColor3 = Color3.fromRGB(28,28,28)
    btn.BorderSizePixel = 0
    btn.Position = UDim2.new(0.1, 0, 0, posY)
    btn.Size = UDim2.new(0, 185, 0, 40)
    btn.Font = Enum.Font.GothamSemibold
    btn.Text = text
    btn.TextColor3 = Color3.fromRGB(210, 170, 255)
    btn.TextScaled = true
    btn.AutoButtonColor = false

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 8)
    corner.Parent = btn

    -- subtle hover animation
    btn.MouseEnter:Connect(function()
        TweenService:Create(btn, TweenInfo.new(0.18, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(38,38,38)}):Play()
    end)
    btn.MouseLeave:Connect(function()
        TweenService:Create(btn, TweenInfo.new(0.18, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(28,28,28)}):Play()
    end)

    return btn
end

local tpToItems = makeButton("tpToItems", "TP to items: off", 8)
local toggleSelling = makeButton("toggleSelling", "Toggle selling: off", 64)

-- Bottom credit
local Bottomtext = Instance.new("TextLabel")
Bottomtext.Name = "BottomText"
Bottomtext.Parent = Frame
Bottomtext.BackgroundTransparency = 1
Bottomtext.Position = UDim2.new(0.085, 0, 0.863, 0)
Bottomtext.Size = UDim2.new(0, 200, 0, 21)
Bottomtext.Font = Enum.Font.Gotham
Bottomtext.Text = "Made By Forcass"
Bottomtext.TextColor3 = Color3.fromRGB(180, 150, 220)
Bottomtext.TextSize = 14
Bottomtext.TextXAlignment = Enum.TextXAlignment.Left

-- Notifier setup (fixed to right side of screen and working reliably)
local function createNotifier(name, rightOffset)
    local nf = Instance.new("Frame")
    nf.Name = name
    nf.Parent = ScreenGui
    nf.Size = UDim2.new(0, 240, 0, 64)
    nf.AnchorPoint = Vector2.new(1, 0) -- anchor to right edge
    -- start OFF-SCREEN at the right by default
    nf.Position = UDim2.new(1, rightOffset or 260, 0.16, 8)
    nf.BackgroundColor3 = Color3.fromRGB(20,20,20)
    nf.BorderSizePixel = 0
    nf.ZIndex = 50

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 10)
    corner.Parent = nf

    local leftBar = Instance.new("Frame")
    leftBar.Parent = nf
    leftBar.Size = UDim2.new(0, 8, 1, 0)
    leftBar.Position = UDim2.new(0,0,0,0)
    leftBar.BackgroundColor3 = Color3.fromRGB(110, 40, 135)
    leftBar.BorderSizePixel = 0
    leftBar.ZIndex = 51

    local icon = Instance.new("TextLabel")
    icon.Parent = nf
    icon.BackgroundTransparency = 1
    icon.Size = UDim2.new(0, 36, 0, 36)
    icon.Position = UDim2.new(0, 12, 0, 14)
    icon.Font = Enum.Font.GothamBold
    icon.TextSize = 20
    icon.Text = "!"
    icon.TextColor3 = Color3.fromRGB(255,255,255)
    icon.ZIndex = 52

    local lbl = Instance.new("TextLabel")
    lbl.Parent = nf
    lbl.BackgroundTransparency = 1
    lbl.Position = UDim2.new(0, 56, 0, 10)
    lbl.Size = UDim2.new(1, -76, 1, -20)
    lbl.Font = Enum.Font.Gotham
    lbl.TextSize = 14
    lbl.Text = "Notifier"
    lbl.TextColor3 = Color3.fromRGB(230,230,230)
    lbl.TextWrapped = true
    lbl.TextXAlignment = Enum.TextXAlignment.Left
    lbl.ZIndex = 52

    -- initial transparency state
    nf.BackgroundTransparency = 1
    lbl.TextTransparency = 1
    icon.TextTransparency = 1
    leftBar.BackgroundTransparency = 1

    return {
        Frame = nf,
        Label = lbl,
        Icon = icon,
        LeftBar = leftBar
    }
end

-- Create two notifiers, slightly stacked so they don't overlap when both triggered
local notifierTP = createNotifier("NotifierTP", 260)
notifierTP.LeftBar.BackgroundColor3 = Color3.fromRGB(120,70,200)
notifierTP.Icon.Text = "T"

local notifierSelling = createNotifier("NotifierSelling", 520)
notifierSelling.LeftBar.BackgroundColor3 = Color3.fromRGB(60,160,90)
notifierSelling.Icon.Text = "S"

-- helper to show notifier with smooth in/out anchored to right
local function showNotifier(notifier, titleText, bodyText, onForSeconds)
    onForSeconds = onForSeconds or 1.6
    pcall(function()
        local f = notifier.Frame
        local lbl = notifier.Label
        local icon = notifier.Icon
        local left = notifier.LeftBar

        lbl.Text = (titleText and ("" .. titleText .. "
") or "") .. (bodyText or "")

        -- tween onto screen: move from off-screen (positive offset) to -10 px from right
        local tweenIn = TweenService:Create(f, TweenInfo.new(0.26, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Position = UDim2.new(1, -10, f.Position.Y.Scale, f.Position.Y.Offset), BackgroundTransparency = 0})
        local tweenLbl = TweenService:Create(lbl, TweenInfo.new(0.26, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {TextTransparency = 0})
        local tweenIcon = TweenService:Create(icon, TweenInfo.new(0.26, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {TextTransparency = 0})
        local tweenBar = TweenService:Create(left, TweenInfo.new(0.26, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 0})

        tweenIn:Play(); tweenLbl:Play(); tweenIcon:Play(); tweenBar:Play()

        -- hide after delay
        task.delay(onForSeconds, function()
            local tweenOut = TweenService:Create(f, TweenInfo.new(0.22, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {Position = UDim2.new(1, (f.Size.X.Offset + 30), f.Position.Y.Scale, f.Position.Y.Offset), BackgroundTransparency = 1})
            local tweenLblOut = TweenService:Create(lbl, TweenInfo.new(0.22, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {TextTransparency = 1})
            local tweenIconOut = TweenService:Create(icon, TweenInfo.new(0.22, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {TextTransparency = 1})
            local tweenBarOut = TweenService:Create(left, TweenInfo.new(0.22, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {BackgroundTransparency = 1})
            tweenOut:Play(); tweenLblOut:Play(); tweenIconOut:Play(); tweenBarOut:Play()
        end)
    end)
end

-- Game logic (ported + preserved behaviour)
local tpOn = false
local sell = false

local function travelTo(place)
    if not place then return end
    local char = LocalPlayer.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") then return end
    local plr = char.HumanoidRootPart
    local vector = place.Position - plr.Position
    local length = vector.Magnitude
    local num_tp = math.max(1, math.ceil(length / 50))
    for i = 1, num_tp do
        if not plr or not plr.Parent then break end
        plr.CFrame = plr.CFrame + vector / num_tp
        task.wait(0.02)
    end
end

local function sellItem(item)
    local plrName = LocalPlayer.Name
    local itemName = LocalPlayer.Backpack:FindFirstChild(item.Name)
    if itemName and game.Workspace.Living:FindFirstChild(plrName) then
        itemName.Parent = game.Workspace.Living:FindFirstChild(plrName)

        local args = {
            [1] = "EndDialogue",
            [2] = {
                ["NPC"] = "Merchant",
                ["Option"] = "Option2",
                ["Dialogue"] = "Dialogue5"
            }
        }

        pcall(function()
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("RemoteEvent") then
                LocalPlayer.Character.RemoteEvent:FireServer(unpack(args))
            else
                -- fallback: try firing from player
                pcall(function() LocalPlayer:WaitForChild("PlayerGui"):FindFirstChild("RemoteEvent") end)
            end
        end)
    end
end

local function maxItems()
    local items = {
        ["Mysterious Arrow"] = 0,
        ["Rokakaka"] = 0,
        ["Gold Coin"] = 0,
        ["Diamond"] = 0,
        ["Pure Rokakaka"] = 0,
        ["Quinton's Glove"] = 0,
        ["Steel Ball"] = 0,
        ["Rib Cage of The Saint's Corpse"] = 0,
        ["Zepellin's Headband"] = 0,
        ["Zeppeli's Hat"] = 0,
        ["Caesar's Headband"] = 0,
        ["Clackers"] = 0,
        ["Stone Mask"] = 0,
        ["Ancient Scroll"] = 0,
        ["Dio's Diary"] = 0,
        ["Lucky Stone Mask"] = 0,
        ["Gold Umbrella"] = 0
    }

    local maxLimits = {
        ["Mysterious Arrow"] = 25,
        ["Rokakaka"] = 25,
        ["Gold Coin"] = 45,
        ["Diamond"] = 25,
        ["Pure Rokakaka"] = 10,
        ["Quinton's Glove"] = 10,
        ["Steel Ball"] = 10,
        ["Rib Cage of The Saint's Corpse"] = 10,
        ["Zepellin's Headband"] = 10,
        ["Zeppeli's Hat"] = 10,
        ["Caesar's Headband"] = 10,
        ["Clackers"] = 10,
        ["Stone Mask"] = 10,
        ["Ancient Scroll"] = 10,
        ["Dio's Diary"] = 10,
        ["Lucky Stone Mask"] = 999,
        ["Lucky Arrow"] = 999,
        ["Gold Umbrella"] = 999,
        ["Left Arm of The Saint's Corpse"] = 999,
        ["Heart of The Saint's Corpse"] = 999,
        ["Pelvis of The Saint's Corpse"] = 999
    }

    for _, item in pairs(LocalPlayer.Backpack:GetChildren()) do
        if items[item.Name] ~= nil then
            items[item.Name] = items[item.Name] + 1
            if (items[item.Name] >= (maxLimits[item.Name] or 25)) and sell then
                pcall(sellItem, item)
            end
        end
    end
end

local function mainTP()
    while tpOn do
        maxItems()
        local spawned = game.Workspace:FindFirstChild("Item_Spawns")
        if spawned and spawned:FindFirstChild("Items") then
            for _, v in pairs(spawned.Items:GetChildren()) do
                local item = v:FindFirstChild("MeshPart")
                if item and v:FindFirstChild("PointLight") and v:FindFirstChild("ProximityPrompt") then
                    local proxPrompt = v.ProximityPrompt
                    while item:IsDescendantOf(game.Workspace) and tpOn do
                        local char = LocalPlayer.Character
                        if char and char:FindFirstChild("HumanoidRootPart") then
                            travelTo(item)
                            if (item.Position - char.HumanoidRootPart.Position).Magnitude < 5 then
                                maxItems()
                                pcall(function() fireproximityprompt(proxPrompt, 4) end)
                            end
                        end
                        task.wait(0.05)
                    end
                    maxItems()
                end
            end
        end
        task.wait(1)
    end
end

-- Connect UI actions + show notifiers

toggleSelling.MouseButton1Click:Connect(function()
    sell = not sell
    if sell then
        toggleSelling.Text = "Toggle selling: on"
        showNotifier(notifierSelling, "Selling", "Auto-sell enabled", 1.8)
    else
        toggleSelling.Text = "Toggle selling: off"
        showNotifier(notifierSelling, "Selling", "Auto-sell disabled", 1.8)
    end
    maxItems()
end)

local tpCoroutine = nil

tpToItems.MouseButton1Click:Connect(function()
    tpOn = not tpOn
    if tpOn then
        tpToItems.Text = "Tp to items: on"
        showNotifier(notifierTP, "TP", "Teleporting to items — active", 1.8)
        if not tpCoroutine then
            tpCoroutine = coroutine.create(mainTP)
            coroutine.resume(tpCoroutine)
        end
    else
        tpToItems.Text = "Tp to items: off"
        showNotifier(notifierTP, "TP", "Teleporting to items — stopped", 1.8)
        tpCoroutine = nil
    end
    print("TP to items is now " .. tostring(tpOn))
end)

-- make frame draggable (nice touch)
local dragging, dragInput, dragStart, startPos

local function update(input)
    local delta = input.Position - dragStart
    TweenService:Create(Frame, TweenInfo.new(0.08, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)}):Play()
end

Frame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = Frame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

Frame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)

-- entrance animation for the whole frame
Frame.Position = UDim2.new(0.01, 0, 0.12, 0)
TweenService:Create(Frame, TweenInfo.new(0.32, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Position = UDim2.new(0.01, 0, 0.16, 0), BackgroundTransparency = 0.08}):Play()

-- ensure notifiers start off-screen (right)
for _, n in pairs({notifierTP, notifierSelling}) do
    if n and n.Frame then
        local offX = n.Frame.Size.X.Offset + 30
        n.Frame.Position = UDim2.new(1, offX, n.Frame.Position.Y.Scale, n.Frame.Position.Y.Offset)
        n.Frame.BackgroundTransparency = 1
        n.Label.TextTransparency = 1
        n.Icon.TextTransparency = 1
        n.LeftBar.BackgroundTransparency = 1
    end
end

-- end of script
